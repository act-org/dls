"use strict";(self.webpackChunk_actinc_dls=self.webpackChunk_actinc_dls||[]).push([[5969],{"./node_modules/@mui/material/esm/styles/rootShouldForwardProp.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _slotShouldForwardProp_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/material/esm/styles/slotShouldForwardProp.js");const __WEBPACK_DEFAULT_EXPORT__=prop=>(0,_slotShouldForwardProp_js__WEBPACK_IMPORTED_MODULE_0__.A)(prop)&&"classes"!==prop},"./node_modules/@mui/material/esm/styles/slotShouldForwardProp.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function slotShouldForwardProp(prop){return"ownerState"!==prop&&"theme"!==prop&&"sx"!==prop&&"as"!==prop}},"./node_modules/@mui/material/esm/styles/styled.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__});var _mui_system_createStyled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/system/esm/createStyled/createStyled.js"),_defaultTheme_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/styles/defaultTheme.js"),_identifier_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/material/esm/styles/identifier.js"),_rootShouldForwardProp_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/styles/rootShouldForwardProp.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_mui_system_createStyled__WEBPACK_IMPORTED_MODULE_0__.Ay)({themeId:_identifier_js__WEBPACK_IMPORTED_MODULE_1__.A,defaultTheme:_defaultTheme_js__WEBPACK_IMPORTED_MODULE_2__.A,rootShouldForwardProp:_rootShouldForwardProp_js__WEBPACK_IMPORTED_MODULE_3__.A})},"./node_modules/@mui/material/esm/styles/useTheme.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useTheme});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_system__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/system/esm/useTheme/useTheme.js"),_defaultTheme_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/material/esm/styles/defaultTheme.js"),_identifier_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/esm/styles/identifier.js");function useTheme(){const theme=(0,_mui_system__WEBPACK_IMPORTED_MODULE_1__.A)(_defaultTheme_js__WEBPACK_IMPORTED_MODULE_2__.A);return react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue(theme),theme[_identifier_js__WEBPACK_IMPORTED_MODULE_3__.A]||theme}},"./node_modules/@mui/styled-engine/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>styled,HX:()=>internal_mutateStyles,tT:()=>internal_serializeStyles});var _emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_emotion_serialize__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@emotion/serialize/dist/emotion-serialize.esm.js");function styled(tag,options){const stylesFactory=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.default)(tag,options);return(...styles)=>{const component="string"==typeof tag?`"${tag}"`:"component";return 0===styles.length?console.error([`MUI: Seems like you called \`styled(${component})()\` without a \`style\` argument.`,'You must provide a `styles` argument: `styled("div")(styleYouForgotToPass)`.'].join("\n")):styles.some(style=>void 0===style)&&console.error(`MUI: the styled(${component})(...args) API requires all its args to be defined.`),stylesFactory(...styles)}}function internal_mutateStyles(tag,processor){Array.isArray(tag.__emotion_styles)&&(tag.__emotion_styles=processor(tag.__emotion_styles))}const wrapper=[];function internal_serializeStyles(styles){return wrapper[0]=styles,(0,_emotion_serialize__WEBPACK_IMPORTED_MODULE_1__.serializeStyles)(wrapper)}},"./node_modules/@mui/system/esm/createStyled/createStyled.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>createStyled});var esm=__webpack_require__("./node_modules/@mui/styled-engine/esm/index.js"),deepmerge=__webpack_require__("./node_modules/@mui/system/node_modules/@mui/utils/esm/deepmerge/deepmerge.js"),capitalize=__webpack_require__("./node_modules/@mui/system/node_modules/@mui/utils/esm/capitalize/capitalize.js"),react_is_development=__webpack_require__("./node_modules/react-is/cjs/react-is.development.js");function getFunctionComponentName(Component,fallback=""){return Component.displayName||Component.name||fallback}function getWrappedName(outerType,innerType,wrapperName){const functionName=getFunctionComponentName(innerType);return outerType.displayName||(""!==functionName?`${wrapperName}(${functionName})`:wrapperName)}var createTheme=__webpack_require__("./node_modules/@mui/system/esm/createTheme/createTheme.js"),styleFunctionSx=__webpack_require__("./node_modules/@mui/system/esm/styleFunctionSx/styleFunctionSx.js"),preprocessStyles=__webpack_require__("./node_modules/@mui/system/esm/preprocessStyles.js");const systemDefaultTheme=(0,createTheme.A)();function shouldForwardProp(prop){return"ownerState"!==prop&&"theme"!==prop&&"sx"!==prop&&"as"!==prop}function defaultOverridesResolver(slot){return slot?(_props,styles)=>styles[slot]:null}function processStyle(props,style){const resolvedStyle="function"==typeof style?style(props):style;if(Array.isArray(resolvedStyle))return resolvedStyle.flatMap(subStyle=>processStyle(props,subStyle));if(Array.isArray(resolvedStyle?.variants)){let rootStyle;if(resolvedStyle.isProcessed)rootStyle=resolvedStyle.style;else{const{variants,...otherStyles}=resolvedStyle;rootStyle=otherStyles}return processStyleVariants(props,resolvedStyle.variants,[rootStyle])}return resolvedStyle?.isProcessed?resolvedStyle.style:resolvedStyle}function processStyleVariants(props,variants,results=[]){let mergedState;variantLoop:for(let i=0;i<variants.length;i+=1){const variant=variants[i];if("function"==typeof variant.props){if(mergedState??={...props,...props.ownerState,ownerState:props.ownerState},!variant.props(mergedState))continue}else for(const key in variant.props)if(props[key]!==variant.props[key]&&props.ownerState?.[key]!==variant.props[key])continue variantLoop;"function"==typeof variant.style?(mergedState??={...props,...props.ownerState,ownerState:props.ownerState},results.push(variant.style(mergedState))):results.push(variant.style)}return results}function createStyled(input={}){const{themeId,defaultTheme=systemDefaultTheme,rootShouldForwardProp=shouldForwardProp,slotShouldForwardProp=shouldForwardProp}=input;function styleAttachTheme(props){!function attachTheme(props,themeId,defaultTheme){props.theme=function isObjectEmpty(object){for(const _ in object)return!1;return!0}(props.theme)?defaultTheme:props.theme[themeId]||props.theme}(props,themeId,defaultTheme)}return(tag,inputOptions={})=>{(0,esm.HX)(tag,styles=>styles.filter(style=>style!==styleFunctionSx.A));const{name:componentName,slot:componentSlot,skipVariantsResolver:inputSkipVariantsResolver,skipSx:inputSkipSx,overridesResolver=defaultOverridesResolver(lowercaseFirstLetter(componentSlot)),...options}=inputOptions,skipVariantsResolver=void 0!==inputSkipVariantsResolver?inputSkipVariantsResolver:componentSlot&&"Root"!==componentSlot&&"root"!==componentSlot||!1,skipSx=inputSkipSx||!1;let shouldForwardPropOption=shouldForwardProp;"Root"===componentSlot||"root"===componentSlot?shouldForwardPropOption=rootShouldForwardProp:componentSlot?shouldForwardPropOption=slotShouldForwardProp:function isStringTag(tag){return"string"==typeof tag&&tag.charCodeAt(0)>96}(tag)&&(shouldForwardPropOption=void 0);const defaultStyledResolver=(0,esm.Ay)(tag,{shouldForwardProp:shouldForwardPropOption,label:generateStyledLabel(componentName,componentSlot),...options}),transformStyle=style=>{if(style.__emotion_real===style)return style;if("function"==typeof style)return function styleFunctionProcessor(props){return processStyle(props,style)};if((0,deepmerge.Q)(style)){const serialized=(0,preprocessStyles.A)(style);return serialized.variants?function styleObjectProcessor(props){return processStyle(props,serialized)}:serialized.style}return style},muiStyledResolver=(...expressionsInput)=>{const expressionsHead=[],expressionsBody=expressionsInput.map(transformStyle),expressionsTail=[];if(expressionsHead.push(styleAttachTheme),componentName&&overridesResolver&&expressionsTail.push(function styleThemeOverrides(props){const theme=props.theme,styleOverrides=theme.components?.[componentName]?.styleOverrides;if(!styleOverrides)return null;const resolvedStyleOverrides={};for(const slotKey in styleOverrides)resolvedStyleOverrides[slotKey]=processStyle(props,styleOverrides[slotKey]);return overridesResolver(props,resolvedStyleOverrides)}),componentName&&!skipVariantsResolver&&expressionsTail.push(function styleThemeVariants(props){const theme=props.theme,themeVariants=theme?.components?.[componentName]?.variants;return themeVariants?processStyleVariants(props,themeVariants):null}),skipSx||expressionsTail.push(styleFunctionSx.A),Array.isArray(expressionsBody[0])){const inputStrings=expressionsBody.shift(),placeholdersHead=new Array(expressionsHead.length).fill(""),placeholdersTail=new Array(expressionsTail.length).fill("");let outputStrings;outputStrings=[...placeholdersHead,...inputStrings,...placeholdersTail],outputStrings.raw=[...placeholdersHead,...inputStrings.raw,...placeholdersTail],expressionsHead.unshift(outputStrings)}const expressions=[...expressionsHead,...expressionsBody,...expressionsTail],Component=defaultStyledResolver(...expressions);return tag.muiName&&(Component.muiName=tag.muiName),Component.displayName=function generateDisplayName(componentName,componentSlot,tag){if(componentName)return`${componentName}${(0,capitalize.A)(componentSlot||"")}`;return`Styled(${function getDisplayName(Component){if(null!=Component){if("string"==typeof Component)return Component;if("function"==typeof Component)return getFunctionComponentName(Component,"Component");if("object"==typeof Component)switch(Component.$$typeof){case react_is_development.ForwardRef:return getWrappedName(Component,Component.render,"ForwardRef");case react_is_development.Memo:return getWrappedName(Component,Component.type,"memo");default:return}}}(tag)})`}(componentName,componentSlot,tag),Component};return defaultStyledResolver.withConfig&&(muiStyledResolver.withConfig=defaultStyledResolver.withConfig),muiStyledResolver}}function generateStyledLabel(componentName,componentSlot){let label;return componentName&&(label=`${componentName}-${lowercaseFirstLetter(componentSlot||"Root")}`),label}function lowercaseFirstLetter(string){return string?string.charAt(0).toLowerCase()+string.slice(1):string}},"./node_modules/@mui/system/esm/preprocessStyles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>preprocessStyles});var _mui_styled_engine__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/styled-engine/esm/index.js");function preprocessStyles(input){const{variants,...style}=input,result={variants,style:(0,_mui_styled_engine__WEBPACK_IMPORTED_MODULE_0__.tT)(style),isProcessed:!0};return result.style===style||variants&&variants.forEach(variant=>{"function"!=typeof variant.style&&(variant.style=(0,_mui_styled_engine__WEBPACK_IMPORTED_MODULE_0__.tT)(variant.style))}),result}},"./node_modules/@mui/system/esm/useThemeProps/getThemeProps.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>getThemeProps});var _mui_utils_resolveProps__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/system/node_modules/@mui/utils/esm/resolveProps/resolveProps.js");function getThemeProps(params){const{theme,name,props}=params;return theme&&theme.components&&theme.components[name]&&theme.components[name].defaultProps?(0,_mui_utils_resolveProps__WEBPACK_IMPORTED_MODULE_0__.A)(theme.components[name].defaultProps,props):props}},"./node_modules/@mui/system/esm/useThemeProps/useThemeProps.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useThemeProps});var _getThemeProps_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/system/esm/useThemeProps/getThemeProps.js"),_useTheme_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/system/esm/useTheme/useTheme.js");function useThemeProps({props,name,defaultTheme,themeId}){let theme=(0,_useTheme_index_js__WEBPACK_IMPORTED_MODULE_0__.A)(defaultTheme);return themeId&&(theme=theme[themeId]||theme),(0,_getThemeProps_js__WEBPACK_IMPORTED_MODULE_1__.A)({theme,name,props})}},"./node_modules/@turf/bbox/dist/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function coordEach(geojson,callback,excludeWrapCoord){if(null!==geojson)for(var j,k,l,geometry,stopG,coords,geometryMaybeCollection,isGeometryCollection,wrapShrink=0,coordIndex=0,type=geojson.type,isFeatureCollection="FeatureCollection"===type,isFeature="Feature"===type,stop=isFeatureCollection?geojson.features.length:1,featureIndex=0;featureIndex<stop;featureIndex++){stopG=(isGeometryCollection=!!(geometryMaybeCollection=isFeatureCollection?geojson.features[featureIndex].geometry:isFeature?geojson.geometry:geojson)&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1;for(var geomIndex=0;geomIndex<stopG;geomIndex++){var multiFeatureIndex=0,geometryIndex=0;if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[geomIndex]:geometryMaybeCollection)){coords=geometry.coordinates;var geomType=geometry.type;switch(wrapShrink=!excludeWrapCoord||"Polygon"!==geomType&&"MultiPolygon"!==geomType?0:1,geomType){case null:break;case"Point":if(!1===callback(coords,coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,multiFeatureIndex++;break;case"LineString":case"MultiPoint":for(j=0;j<coords.length;j++){if(!1===callback(coords[j],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,"MultiPoint"===geomType&&multiFeatureIndex++}"LineString"===geomType&&multiFeatureIndex++;break;case"Polygon":case"MultiLineString":for(j=0;j<coords.length;j++){for(k=0;k<coords[j].length-wrapShrink;k++){if(!1===callback(coords[j][k],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}"MultiLineString"===geomType&&multiFeatureIndex++,"Polygon"===geomType&&geometryIndex++}"Polygon"===geomType&&multiFeatureIndex++;break;case"MultiPolygon":for(j=0;j<coords.length;j++){for(geometryIndex=0,k=0;k<coords[j].length;k++){for(l=0;l<coords[j][k].length-wrapShrink;l++){if(!1===callback(coords[j][k][l],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}geometryIndex++}multiFeatureIndex++}break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===coordEach(geometry.geometries[j],callback,excludeWrapCoord))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}__webpack_require__.d(__webpack_exports__,{A:()=>index_default});var index_default=function bbox(geojson,options={}){if(null!=geojson.bbox&&!0!==options.recompute)return geojson.bbox;const result=[1/0,1/0,-1/0,-1/0];return coordEach(geojson,coord=>{result[0]>coord[0]&&(result[0]=coord[0]),result[1]>coord[1]&&(result[1]=coord[1]),result[2]<coord[0]&&(result[2]=coord[0]),result[3]<coord[1]&&(result[3]=coord[1])}),result}},"./node_modules/ramda/es/equals.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _isPlaceholder(a){return null!=a&&"object"==typeof a&&!0===a["@@functional/placeholder"]}function _curry1(fn){return function f1(a){return 0===arguments.length||_isPlaceholder(a)?f1:fn.apply(this,arguments)}}function _curry2(fn){return function f2(a,b){switch(arguments.length){case 0:return f2;case 1:return _isPlaceholder(a)?f2:_curry1(function(_b){return fn(a,_b)});default:return _isPlaceholder(a)&&_isPlaceholder(b)?f2:_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b)}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b)}):fn(a,b)}}}function _arrayFromIterator(iter){for(var next,list=[];!(next=iter.next()).done;)list.push(next.value);return list}function _includesWith(pred,x,list){for(var idx=0,len=list.length;idx<len;){if(pred(x,list[idx]))return!0;idx+=1}return!1}function _has(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop)}__webpack_require__.d(__webpack_exports__,{A:()=>es_equals});const internal_objectIs="function"==typeof Object.is?Object.is:function _objectIs(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b};var _isArguments_toString=Object.prototype.toString;const internal_isArguments=function(){return"[object Arguments]"===_isArguments_toString.call(arguments)?function _isArguments(x){return"[object Arguments]"===_isArguments_toString.call(x)}:function _isArguments(x){return _has("callee",x)}}();var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hasArgsEnumBug=function(){return arguments.propertyIsEnumerable("length")}(),contains=function contains(list,item){for(var idx=0;idx<list.length;){if(list[idx]===item)return!0;idx+=1}return!1};const es_keys="function"!=typeof Object.keys||hasArgsEnumBug?_curry1(function keys(obj){if(Object(obj)!==obj)return[];var prop,nIdx,ks=[],checkArgsLength=hasArgsEnumBug&&internal_isArguments(obj);for(prop in obj)!_has(prop,obj)||checkArgsLength&&"length"===prop||(ks[ks.length]=prop);if(hasEnumBug)for(nIdx=nonEnumerableProps.length-1;nIdx>=0;)_has(prop=nonEnumerableProps[nIdx],obj)&&!contains(ks,prop)&&(ks[ks.length]=prop),nIdx-=1;return ks}):_curry1(function keys(obj){return Object(obj)!==obj?[]:Object.keys(obj)});const es_type=_curry1(function type(val){return null===val?"Null":void 0===val?"Undefined":Object.prototype.toString.call(val).slice(8,-1)});function _uniqContentEquals(aIterator,bIterator,stackA,stackB){var a=_arrayFromIterator(aIterator);function eq(_a,_b){return _equals(_a,_b,stackA.slice(),stackB.slice())}return!_includesWith(function(b,aItem){return!_includesWith(eq,aItem,b)},_arrayFromIterator(bIterator),a)}function _equals(a,b,stackA,stackB){if(internal_objectIs(a,b))return!0;var typeA=es_type(a);if(typeA!==es_type(b))return!1;if("function"==typeof a["fantasy-land/equals"]||"function"==typeof b["fantasy-land/equals"])return"function"==typeof a["fantasy-land/equals"]&&a["fantasy-land/equals"](b)&&"function"==typeof b["fantasy-land/equals"]&&b["fantasy-land/equals"](a);if("function"==typeof a.equals||"function"==typeof b.equals)return"function"==typeof a.equals&&a.equals(b)&&"function"==typeof b.equals&&b.equals(a);switch(typeA){case"Arguments":case"Array":case"Object":if("function"==typeof a.constructor&&"Promise"===function _functionName(f){var match=String(f).match(/^function (\w*)/);return null==match?"":match[1]}(a.constructor))return a===b;break;case"Boolean":case"Number":case"String":if(typeof a!=typeof b||!internal_objectIs(a.valueOf(),b.valueOf()))return!1;break;case"Date":if(!internal_objectIs(a.valueOf(),b.valueOf()))return!1;break;case"Error":return a.name===b.name&&a.message===b.message;case"RegExp":if(a.source!==b.source||a.global!==b.global||a.ignoreCase!==b.ignoreCase||a.multiline!==b.multiline||a.sticky!==b.sticky||a.unicode!==b.unicode)return!1}for(var idx=stackA.length-1;idx>=0;){if(stackA[idx]===a)return stackB[idx]===b;idx-=1}switch(typeA){case"Map":return a.size===b.size&&_uniqContentEquals(a.entries(),b.entries(),stackA.concat([a]),stackB.concat([b]));case"Set":return a.size===b.size&&_uniqContentEquals(a.values(),b.values(),stackA.concat([a]),stackB.concat([b]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var keysA=es_keys(a);if(keysA.length!==es_keys(b).length)return!1;var extendedStackA=stackA.concat([a]),extendedStackB=stackB.concat([b]);for(idx=keysA.length-1;idx>=0;){var key=keysA[idx];if(!_has(key,b)||!_equals(b[key],a[key],extendedStackA,extendedStackB))return!1;idx-=1}return!0}const es_equals=_curry2(function equals(a,b){return _equals(a,b,[],[])})},"./node_modules/react-map-gl/dist/mapbox.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z0:()=>AttributionControl,T3:()=>FullscreenControl,tG:()=>GeolocateControl,Wd:()=>Layer,T5:()=>map_Map,pH:()=>Marker,ov:()=>NavigationControl,zD:()=>Popup,g0:()=>ScaleControl,kL:()=>Source});var react=__webpack_require__("./node_modules/react/index.js");const MountedMapsContext=react.createContext(null);function noOp(){}const unproxiedMethods=new Set(["_calcMatrices","_calcFogMatrices","_updateCameraState","_updateSeaLevelZoom"]);function createProxyTransform(tr){let internalUpdate=!1,reactViewState={};const controlledTransform=tr;let proposedTransform=null;const handlers={get:(target,prop)=>"$reactViewState"===prop?reactViewState:"$proposedTransform"===prop?proposedTransform:"$internalUpdate"===prop?internalUpdate:"_setZoom"===prop?z=>{internalUpdate&&proposedTransform?.[prop](z),Number.isFinite(reactViewState.zoom)||controlledTransform[prop](z)}:(internalUpdate&&"_translateCameraConstrained"===prop&&function isViewStateControlled(v){return Number.isFinite(v.longitude)||Number.isFinite(v.latitude)||Number.isFinite(v.zoom)||Number.isFinite(v.pitch)||Number.isFinite(v.bearing)}(reactViewState)&&(proposedTransform=proposedTransform||controlledTransform.clone()),unproxiedMethods.has(prop)?function(...parms){proposedTransform?.[prop](...parms),controlledTransform[prop](...parms)}:internalUpdate&&proposedTransform?proposedTransform[prop]:controlledTransform[prop]),set(target,prop,value){if("$reactViewState"===prop)return reactViewState=value,function applyViewStateToTransform(tr,v){const constrain=tr._constrain,calcMatrices=tr._calcMatrices;if(tr._constrain=noOp,tr._calcMatrices=noOp,Number.isFinite(v.bearing)&&(tr.bearing=v.bearing),Number.isFinite(v.pitch)&&(tr.pitch=v.pitch),v.padding&&!tr.isPaddingEqual(v.padding)&&(tr.padding=v.padding),Number.isFinite(v.longitude)||Number.isFinite(v.latitude)){const center=tr.center;tr._center=new center.constructor(v.longitude??center.lng,v.latitude??center.lat)}if(Number.isFinite(v.zoom))if(tr._centerAltitude=v.elevation??0,tr.elevation){tr._seaLevelZoom=v.zoom;const mercatorElevation=tr.pixelsPerMeter/tr.worldSize*tr._centerAltitude,altitude=tr._mercatorZfromZoom(v.zoom),minHeight=tr._mercatorZfromZoom(tr._maxZoom),height=Math.max(altitude-mercatorElevation,minHeight);tr._setZoom(tr._zoomFromMercatorZ(height))}else tr._seaLevelZoom=null,tr.zoom=v.zoom;tr._constrain=constrain,tr._calcMatrices=calcMatrices,tr._unmodified||(tr._constrain(),tr._calcMatrices())}(controlledTransform,reactViewState),!0;if("$proposedTransform"===prop)return proposedTransform=value,!0;if("$internalUpdate"===prop)return internalUpdate=value,!0;let controlledValue=value;return"center"===prop||"_center"===prop?(Number.isFinite(reactViewState.longitude)||Number.isFinite(reactViewState.latitude))&&(controlledValue=new value.constructor(reactViewState.longitude??value.lng,reactViewState.latitude??value.lat)):"zoom"===prop||"_zoom"===prop||"_seaLevelZoom"===prop?Number.isFinite(reactViewState.zoom)&&(controlledValue=controlledTransform[prop]):"_centerAltitude"===prop?Number.isFinite(reactViewState.elevation)&&(controlledValue=controlledTransform[prop]):"pitch"===prop||"_pitch"===prop?Number.isFinite(reactViewState.pitch)&&(controlledValue=controlledTransform[prop]):"bearing"!==prop&&"rotation"!==prop&&"angle"!==prop||Number.isFinite(reactViewState.bearing)&&(controlledValue=controlledTransform[prop]),internalUpdate&&controlledValue!==value&&(proposedTransform=proposedTransform||controlledTransform.clone()),internalUpdate&&proposedTransform&&(proposedTransform[prop]=value),controlledTransform[prop]=controlledValue,!0}};return new Proxy(tr,handlers)}const refProps=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function normalizeStyle(style){if(!style)return null;if("string"==typeof style)return style;if("toJS"in style&&(style=style.toJS()),!style.layers)return style;const layerIndex={};for(const layer of style.layers)layerIndex[layer.id]=layer;const layers=style.layers.map(layer=>{let normalizedLayer=null;"interactive"in layer&&(normalizedLayer=Object.assign({},layer),delete normalizedLayer.interactive);const layerRef=layerIndex[layer.ref];if(layerRef){normalizedLayer=normalizedLayer||Object.assign({},layer),delete normalizedLayer.ref;for(const propName of refProps)propName in layerRef&&(normalizedLayer[propName]=layerRef[propName])}return normalizedLayer||layer});return{...style,layers}}function deepEqual(a,b){if(a===b)return!0;if(!a||!b)return!1;if(Array.isArray(a)){if(!Array.isArray(b)||a.length!==b.length)return!1;for(let i=0;i<a.length;i++)if(!deepEqual(a[i],b[i]))return!1;return!0}if(Array.isArray(b))return!1;if("object"==typeof a&&"object"==typeof b){const aKeys=Object.keys(a),bKeys=Object.keys(b);if(aKeys.length!==bKeys.length)return!1;for(const key of aKeys){if(!b.hasOwnProperty(key))return!1;if(!deepEqual(a[key],b[key]))return!1}return!0}return!1}const DEFAULT_STYLE={version:8,sources:{},layers:[]},pointerEvents={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},cameraEvents={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},otherEvents={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},settingNames=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],handlerNames=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Mapbox{constructor(MapClass,props,container){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const cb=this.props[otherEvents[e.type]];cb?cb(e):"error"===e.type&&console.error(e.error)},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const cb=this.props[pointerEvents[e.type]];cb&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),cb(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){const cb=this.props[cameraEvents[e.type]],tr=this._proxyTransform;cb&&(e.viewState=function transformToViewState(tr){return{longitude:tr.center.lng,latitude:tr.center.lat,zoom:tr._seaLevelZoom??tr.zoom,pitch:tr.pitch,bearing:tr.bearing,padding:tr.padding,elevation:tr._centerAltitude}}(tr.$proposedTransform??tr),cb(e)),"moveend"===e.type&&(tr.$proposedTransform=null)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=MapClass,this.props=props,this._initialize(container)}get map(){return this._map}get transform(){return this._map.transform}setProps(props){const oldProps=this.props;this.props=props;const settingsChanged=this._updateSettings(props,oldProps);settingsChanged&&this._createProxyTransform(this._map);const sizeChanged=this._updateSize(props),viewStateChanged=this._updateViewState(props,!0);this._updateStyle(props,oldProps),this._updateStyleComponents(props,oldProps),this._updateHandlers(props,oldProps),(settingsChanged||sizeChanged||viewStateChanged&&!this._map.isMoving())&&this.redraw()}static reuse(props,container){const that=Mapbox.savedMaps.pop();if(!that)return null;const map=that.map,oldContainer=map.getContainer();for(container.className=oldContainer.className;oldContainer.childNodes.length>0;)container.appendChild(oldContainer.childNodes[0]);map._container=container,that.setProps({...props,styleDiffing:!1}),map.resize();const{initialViewState}=props;return initialViewState&&(initialViewState.bounds?map.fitBounds(initialViewState.bounds,{...initialViewState.fitBoundsOptions,duration:0}):that._updateViewState(initialViewState,!1)),map.isStyleLoaded()?map.fire("load"):map.once("styledata",()=>map.fire("load")),map._update(),that}_initialize(container){const{props}=this,{mapStyle=DEFAULT_STYLE}=props,mapOptions={...props,...props.initialViewState,accessToken:props.mapboxAccessToken||getAccessTokenFromEnv()||null,container,style:normalizeStyle(mapStyle)},viewState=mapOptions.initialViewState||mapOptions.viewState||mapOptions;if(Object.assign(mapOptions,{center:[viewState.longitude||0,viewState.latitude||0],zoom:viewState.zoom||0,pitch:viewState.pitch||0,bearing:viewState.bearing||0}),props.gl){const getContext=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=getContext,props.gl)}const map=new this._MapClass(mapOptions);viewState.padding&&map.setPadding(viewState.padding),props.cursor&&(map.getCanvas().style.cursor=props.cursor),this._createProxyTransform(map);const renderMap=map._render;map._render=arg=>{this._inRender=!0,renderMap.call(map,arg),this._inRender=!1};const runRenderTaskQueue=map._renderTaskQueue.run;map._renderTaskQueue.run=arg=>{this._proxyTransform.$internalUpdate=!0,runRenderTaskQueue.call(map._renderTaskQueue,arg),this._proxyTransform.$internalUpdate=!1,this._fireDefferedEvents()};const jumpTo=map.jumpTo;map.jumpTo=(...args)=>(this._proxyTransform.$internalUpdate=!0,jumpTo.apply(map,args),this._proxyTransform.$internalUpdate=!1,map);const fireEvent=map.fire;map.fire=this._fireEvent.bind(this,fireEvent),map.on("styledata",()=>{this._updateStyleComponents(this.props,{})}),map.on("sourcedata",()=>{this._updateStyleComponents(this.props,{})});for(const eventName in pointerEvents)map.on(eventName,this._onPointerEvent);for(const eventName in cameraEvents)map.on(eventName,this._onCameraEvent);for(const eventName in otherEvents)map.on(eventName,this._onEvent);this._map=map}recycle(){const children=this.map.getContainer().querySelector("[mapboxgl-children]");children?.remove(),Mapbox.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const map=this._map;!this._inRender&&map.style&&(map._frame&&(map._frame.cancel(),map._frame=null),map._render())}_createProxyTransform(map){const proxyTransform=createProxyTransform(map.transform);map.transform=proxyTransform,map.painter.transform=proxyTransform,this._proxyTransform=proxyTransform}_updateSize(nextProps){const{viewState}=nextProps;if(viewState){const map=this._map;if(viewState.width!==map.transform.width||viewState.height!==map.transform.height)return map.resize(),!0}return!1}_updateViewState(nextProps,triggerEvents){const viewState=nextProps.viewState||nextProps,tr=this._proxyTransform,{zoom,pitch,bearing}=tr,changed=function compareViewStateWithTransform(tr,v){return!((!Number.isFinite(v.longitude)||tr.center.lng===v.longitude)&&(!Number.isFinite(v.latitude)||tr.center.lat===v.latitude)&&(!Number.isFinite(v.bearing)||tr.bearing===v.bearing)&&(!Number.isFinite(v.pitch)||tr.pitch===v.pitch)&&(!Number.isFinite(v.zoom)||(tr._seaLevelZoom??tr.zoom)===v.zoom)&&(!v.padding||tr.isPaddingEqual(v.padding)))}(this._proxyTransform,viewState);if(tr.$reactViewState=viewState,changed&&triggerEvents){const deferredEvents=this._deferredEvents;deferredEvents.move=!0,deferredEvents.zoom||(deferredEvents.zoom=zoom!==tr.zoom),deferredEvents.rotate||(deferredEvents.rotate=bearing!==tr.bearing),deferredEvents.pitch||(deferredEvents.pitch=pitch!==tr.pitch)}return changed}_updateSettings(nextProps,currProps){const map=this._map;let changed=!1;for(const propName of settingNames)if(propName in nextProps&&!deepEqual(nextProps[propName],currProps[propName])){changed=!0;const setter=map[`set${propName[0].toUpperCase()}${propName.slice(1)}`];setter?.call(map,nextProps[propName])}return changed}_updateStyle(nextProps,currProps){if(nextProps.cursor!==currProps.cursor&&(this._map.getCanvas().style.cursor=nextProps.cursor||""),nextProps.mapStyle!==currProps.mapStyle){const{mapStyle=DEFAULT_STYLE,styleDiffing=!0}=nextProps,options={diff:styleDiffing};return"localIdeographFontFamily"in nextProps&&(options.localIdeographFontFamily=nextProps.localIdeographFontFamily),this._map.setStyle(normalizeStyle(mapStyle),options),!0}return!1}_updateStyleComponents(nextProps,currProps){const map=this._map;let changed=!1;return map.isStyleLoaded()&&("light"in nextProps&&map.setLight&&!deepEqual(nextProps.light,currProps.light)&&(changed=!0,map.setLight(nextProps.light)),"fog"in nextProps&&map.setFog&&!deepEqual(nextProps.fog,currProps.fog)&&(changed=!0,map.setFog(nextProps.fog)),"terrain"in nextProps&&map.setTerrain&&!deepEqual(nextProps.terrain,currProps.terrain)&&(nextProps.terrain&&!map.getSource(nextProps.terrain.source)||(changed=!0,map.setTerrain(nextProps.terrain)))),changed}_updateHandlers(nextProps,currProps){const map=this._map;let changed=!1;for(const propName of handlerNames){const newValue=nextProps[propName]??!0;deepEqual(newValue,currProps[propName]??!0)||(changed=!0,newValue?map[propName].enable(newValue):map[propName].disable())}return changed}_queryRenderedFeatures(point){const map=this._map,{interactiveLayerIds=[]}=this.props;try{return map.queryRenderedFeatures(point,{layers:interactiveLayerIds.filter(map.getLayer.bind(map))})}catch{return[]}}_updateHover(e){const{props}=this;if(props.interactiveLayerIds&&(props.onMouseMove||props.onMouseEnter||props.onMouseLeave)){const eventType=e.type,wasHovering=this._hoveredFeatures?.length>0,features=this._queryRenderedFeatures(e.point),isHovering=features.length>0;!isHovering&&wasHovering&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=features,isHovering&&!wasHovering&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=eventType}else this._hoveredFeatures=null}_fireEvent(baseFire,event,properties){const map=this._map,tr=this._proxyTransform,internal=tr.$internalUpdate;try{tr.$internalUpdate=!1,baseFire.call(map,event,properties)}finally{tr.$internalUpdate=internal}return map}_fireDefferedEvents(){const map=this._map;this._internalUpdate=!0;for(const eventType in this._deferredEvents)this._deferredEvents[eventType]&&map.fire(eventType);this._internalUpdate=!1}}Mapbox.savedMaps=[];const mapbox_mapbox=Mapbox;function getAccessTokenFromEnv(){let accessToken=null;if("undefined"!=typeof location){const match=/access_token=([^&\/]*)/.exec(location.search);accessToken=match&&match[1]}try{accessToken=accessToken||{NODE_ENV:"development",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:".",STORYBOOK_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiaXRhZG1pbnMiLCJhIjoiY2wwdmVudmhpMTZvNjNqcG40NXp6Nnk3dCJ9.ThRd0y_bK_8RVfu_zDzTjQ"}.MapboxAccessToken}catch{}try{accessToken=accessToken||{NODE_ENV:"development",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:".",STORYBOOK_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiaXRhZG1pbnMiLCJhIjoiY2wwdmVudmhpMTZvNjNqcG40NXp6Nnk3dCJ9.ThRd0y_bK_8RVfu_zDzTjQ"}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return accessToken}const skipMethods=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function createRef(mapInstance){if(!mapInstance)return null;const map=mapInstance.map,ref={getMap:()=>map,getCenter:()=>mapInstance.transform.center,getZoom:()=>mapInstance.transform.zoom,getBearing:()=>mapInstance.transform.bearing,getPitch:()=>mapInstance.transform.pitch,getPadding:()=>mapInstance.transform.padding,getBounds:()=>mapInstance.transform.getBounds(),project:lnglat=>{const tr=map.transform;map.transform=mapInstance.transform;const result=map.project(lnglat);return map.transform=tr,result},unproject:point=>{const tr=map.transform;map.transform=mapInstance.transform;const result=map.unproject(point);return map.transform=tr,result},queryTerrainElevation:(lnglat,options)=>{const tr=map.transform;map.transform=mapInstance.transform;const result=map.queryTerrainElevation(lnglat,options);return map.transform=tr,result},queryRenderedFeatures:(geometry,options)=>{const tr=map.transform;map.transform=mapInstance.transform;const result=map.queryRenderedFeatures(geometry,options);return map.transform=tr,result}};for(const key of function getMethodNames(obj){const result=new Set;let proto=obj;for(;proto;){for(const key of Object.getOwnPropertyNames(proto))"_"!==key[0]&&"function"==typeof obj[key]&&"fire"!==key&&"setEventedParent"!==key&&result.add(key);proto=Object.getPrototypeOf(proto)}return Array.from(result)}(map))key in ref||skipMethods.includes(key)||(ref[key]=map[key].bind(map));return ref}const use_isomorphic_layout_effect="undefined"!=typeof document?react.useLayoutEffect:react.useEffect,globalSettings=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const map_MapContext=react.createContext(null);const map_Map=react.forwardRef(function _Map(props,ref){const mountedMapsContext=(0,react.useContext)(MountedMapsContext),[mapInstance,setMapInstance]=(0,react.useState)(null),containerRef=(0,react.useRef)(),{current:contextValue}=(0,react.useRef)({mapLib:null,map:null});(0,react.useEffect)(()=>{const mapLib=props.mapLib;let mapbox,isMounted=!0;return Promise.resolve(mapLib||__webpack_require__.e(842).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/mapbox-gl/dist/mapbox-gl.js",23))).then(module=>{if(!isMounted)return;if(!module)throw new Error("Invalid mapLib");const mapboxgl="Map"in module?module:module.default;if(!mapboxgl.Map)throw new Error("Invalid mapLib");!function setGlobals(mapLib,props){for(const key of globalSettings)key in props&&(mapLib[key]=props[key]);const{RTLTextPlugin="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=props;RTLTextPlugin&&mapLib.getRTLTextPluginStatus&&"unavailable"===mapLib.getRTLTextPluginStatus()&&mapLib.setRTLTextPlugin(RTLTextPlugin,error=>{error&&console.error(error)},!0)}(mapboxgl,props),props.reuseMaps&&(mapbox=mapbox_mapbox.reuse(props,containerRef.current)),mapbox||(mapbox=new mapbox_mapbox(mapboxgl.Map,props,containerRef.current)),contextValue.map=createRef(mapbox),contextValue.mapLib=mapboxgl,setMapInstance(mapbox),mountedMapsContext?.onMapMount(contextValue.map,props.id)}).catch(error=>{const{onError}=props;onError?onError({type:"error",target:null,error}):console.error(error)}),()=>{isMounted=!1,mapbox&&(mountedMapsContext?.onMapUnmount(props.id),props.reuseMaps?mapbox.recycle():mapbox.destroy())}},[]),use_isomorphic_layout_effect(()=>{mapInstance&&mapInstance.setProps(props)}),(0,react.useImperativeHandle)(ref,()=>contextValue.map,[mapInstance]);const style=(0,react.useMemo)(()=>({position:"relative",width:"100%",height:"100%",...props.style}),[props.style]);return react.createElement("div",{id:props.id,ref:containerRef,style},mapInstance&&react.createElement(map_MapContext.Provider,{value:contextValue},react.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},props.children)))});var react_dom=__webpack_require__("./node_modules/react-dom/index.js");const unitlessNumber=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function applyReactStyle(element,styles){if(!element||!styles)return;const style=element.style;for(const key in styles){const value=styles[key];Number.isFinite(value)&&!unitlessNumber.test(key)?style[key]=`${value}px`:style[key]=value}}function compareClassNames(prevClassName,nextClassName){if(prevClassName===nextClassName)return null;const prevClassList=getClassList(prevClassName),nextClassList=getClassList(nextClassName),diff=[];for(const c of nextClassList)prevClassList.has(c)||diff.push(c);for(const c of prevClassList)nextClassList.has(c)||diff.push(c);return 0===diff.length?null:diff}function getClassList(className){return new Set(className?className.trim().split(/\s+/):[])}const Marker=(0,react.memo)((0,react.forwardRef)((props,ref)=>{const{map,mapLib}=(0,react.useContext)(map_MapContext),thisRef=(0,react.useRef)({props}),marker=(0,react.useMemo)(()=>{let hasChildren=!1;react.Children.forEach(props.children,el=>{el&&(hasChildren=!0)});const options={...props,element:hasChildren?document.createElement("div"):null},mk=new mapLib.Marker(options);return mk.setLngLat([props.longitude,props.latitude]),mk.getElement().addEventListener("click",e=>{thisRef.current.props.onClick?.({type:"click",target:mk,originalEvent:e})}),mk.on("dragstart",e=>{const evt=e;evt.lngLat=marker.getLngLat(),thisRef.current.props.onDragStart?.(evt)}),mk.on("drag",e=>{const evt=e;evt.lngLat=marker.getLngLat(),thisRef.current.props.onDrag?.(evt)}),mk.on("dragend",e=>{const evt=e;evt.lngLat=marker.getLngLat(),thisRef.current.props.onDragEnd?.(evt)}),mk},[]);(0,react.useEffect)(()=>(marker.addTo(map.getMap()),()=>{marker.remove()}),[]);const{longitude,latitude,offset,style,draggable=!1,popup=null,rotation=0,rotationAlignment="auto",pitchAlignment="auto"}=props;(0,react.useEffect)(()=>{applyReactStyle(marker.getElement(),style)},[style]),(0,react.useImperativeHandle)(ref,()=>marker,[]);const oldProps=thisRef.current.props;marker.getLngLat().lng===longitude&&marker.getLngLat().lat===latitude||marker.setLngLat([longitude,latitude]),offset&&!function arePointsEqual(a,b){const ax=Array.isArray(a)?a[0]:a?a.x:0,ay=Array.isArray(a)?a[1]:a?a.y:0,bx=Array.isArray(b)?b[0]:b?b.x:0,by=Array.isArray(b)?b[1]:b?b.y:0;return ax===bx&&ay===by}(marker.getOffset(),offset)&&marker.setOffset(offset),marker.isDraggable()!==draggable&&marker.setDraggable(draggable),marker.getRotation()!==rotation&&marker.setRotation(rotation),marker.getRotationAlignment()!==rotationAlignment&&marker.setRotationAlignment(rotationAlignment),marker.getPitchAlignment()!==pitchAlignment&&marker.setPitchAlignment(pitchAlignment),marker.getPopup()!==popup&&marker.setPopup(popup);const classNameDiff=compareClassNames(oldProps.className,props.className);if(classNameDiff)for(const c of classNameDiff)marker.toggleClassName(c);return thisRef.current.props=props,(0,react_dom.createPortal)(props.children,marker.getElement())})),Popup=(0,react.memo)((0,react.forwardRef)((props,ref)=>{const{map,mapLib}=(0,react.useContext)(map_MapContext),container=(0,react.useMemo)(()=>document.createElement("div"),[]),thisRef=(0,react.useRef)({props}),popup=(0,react.useMemo)(()=>{const options={...props},pp=new mapLib.Popup(options);return pp.setLngLat([props.longitude,props.latitude]),pp.once("open",e=>{thisRef.current.props.onOpen?.(e)}),pp},[]);if((0,react.useEffect)(()=>{const onClose=e=>{thisRef.current.props.onClose?.(e)};return popup.on("close",onClose),popup.setDOMContent(container).addTo(map.getMap()),()=>{popup.off("close",onClose),popup.isOpen()&&popup.remove()}},[]),(0,react.useEffect)(()=>{applyReactStyle(popup.getElement(),props.style)},[props.style]),(0,react.useImperativeHandle)(ref,()=>popup,[]),popup.isOpen()){const oldProps=thisRef.current.props;popup.getLngLat().lng===props.longitude&&popup.getLngLat().lat===props.latitude||popup.setLngLat([props.longitude,props.latitude]),props.offset&&!deepEqual(oldProps.offset,props.offset)&&(popup.options.anchor=props.anchor,popup.setOffset(props.offset)),oldProps.anchor===props.anchor&&oldProps.maxWidth===props.maxWidth||popup.setMaxWidth(props.maxWidth);const classNameDiff=compareClassNames(oldProps.className,props.className);if(classNameDiff)for(const c of classNameDiff)popup.toggleClassName(c);thisRef.current.props=props}return(0,react_dom.createPortal)(props.children,container)}));function useControl(onCreate,arg1,arg2,arg3){const context=(0,react.useContext)(map_MapContext),ctrl=(0,react.useMemo)(()=>onCreate(context),[]);return(0,react.useEffect)(()=>{const opts=arg3||arg2||arg1,onAdd="function"==typeof arg1&&"function"==typeof arg2?arg1:null,onRemove="function"==typeof arg2?arg2:"function"==typeof arg1?arg1:null,{map}=context;return map.hasControl(ctrl)||(map.addControl(ctrl,opts?.position),onAdd&&onAdd(context)),()=>{onRemove&&onRemove(context),map.hasControl(ctrl)&&map.removeControl(ctrl)}},[]),ctrl}const AttributionControl=(0,react.memo)(function _AttributionControl(props){const ctrl=useControl(({mapLib})=>new mapLib.AttributionControl(props),{position:props.position});return(0,react.useEffect)(()=>{applyReactStyle(ctrl._container,props.style)},[props.style]),null});const FullscreenControl=(0,react.memo)(function _FullscreenControl(props){const ctrl=useControl(({mapLib})=>new mapLib.FullscreenControl({container:props.containerId&&document.getElementById(props.containerId)}),{position:props.position});return(0,react.useEffect)(()=>{applyReactStyle(ctrl._controlContainer,props.style)},[props.style]),null});const GeolocateControl=(0,react.memo)((0,react.forwardRef)(function _GeolocateControl(props,ref){const thisRef=(0,react.useRef)({props}),ctrl=useControl(({mapLib})=>{const gc=new mapLib.GeolocateControl(props),setupUI=gc._setupUI.bind(gc);return gc._setupUI=args=>{gc._container.hasChildNodes()||setupUI(args)},gc.on("geolocate",e=>{thisRef.current.props.onGeolocate?.(e)}),gc.on("error",e=>{thisRef.current.props.onError?.(e)}),gc.on("outofmaxbounds",e=>{thisRef.current.props.onOutOfMaxBounds?.(e)}),gc.on("trackuserlocationstart",e=>{thisRef.current.props.onTrackUserLocationStart?.(e)}),gc.on("trackuserlocationend",e=>{thisRef.current.props.onTrackUserLocationEnd?.(e)}),gc},{position:props.position});return thisRef.current.props=props,(0,react.useImperativeHandle)(ref,()=>ctrl,[]),(0,react.useEffect)(()=>{applyReactStyle(ctrl._container,props.style)},[props.style]),null}));const NavigationControl=(0,react.memo)(function _NavigationControl(props){const ctrl=useControl(({mapLib})=>new mapLib.NavigationControl(props),{position:props.position});return(0,react.useEffect)(()=>{applyReactStyle(ctrl._container,props.style)},[props.style]),null});const ScaleControl=(0,react.memo)(function _ScaleControl(props){const ctrl=useControl(({mapLib})=>new mapLib.ScaleControl(props),{position:props.position}),propsRef=(0,react.useRef)(props),prevProps=propsRef.current;propsRef.current=props;const{style}=props;return void 0!==props.maxWidth&&props.maxWidth!==prevProps.maxWidth&&(ctrl.options.maxWidth=props.maxWidth),void 0!==props.unit&&props.unit!==prevProps.unit&&ctrl.setUnit(props.unit),(0,react.useEffect)(()=>{applyReactStyle(ctrl._container,style)},[style]),null});function assert(condition,message){if(!condition)throw new Error(message)}let sourceCounter=0;function Source(props){const map=(0,react.useContext)(map_MapContext).map.getMap(),propsRef=(0,react.useRef)(props),[,setStyleLoaded]=(0,react.useState)(0),id=(0,react.useMemo)(()=>props.id||"jsx-source-"+sourceCounter++,[]);(0,react.useEffect)(()=>{if(map){const forceUpdate=()=>setTimeout(()=>setStyleLoaded(version=>version+1),0);return map.on("styledata",forceUpdate),forceUpdate(),()=>{if(map.off("styledata",forceUpdate),map.style&&map.style._loaded&&map.getSource(id)){const allLayers=map.getStyle()?.layers;if(allLayers)for(const layer of allLayers)layer.source===id&&map.removeLayer(layer.id);map.removeSource(id)}}}},[map]);let source=map&&map.style&&map.getSource(id);return source?function updateSource(source,props,prevProps){assert(props.id===prevProps.id,"source id changed"),assert(props.type===prevProps.type,"source type changed");let changedKey="",changedKeyCount=0;for(const key in props)"children"===key||"id"===key||deepEqual(prevProps[key],props[key])||(changedKey=key,changedKeyCount++);if(!changedKeyCount)return;const type=props.type;"geojson"===type?source.setData(props.data):"image"===type?source.updateImage({url:props.url,coordinates:props.coordinates}):"setCoordinates"in source&&1===changedKeyCount&&"coordinates"===changedKey?source.setCoordinates(props.coordinates):"setUrl"in source&&"url"===changedKey?source.setUrl(props.url):"setTiles"in source&&"tiles"===changedKey?source.setTiles(props.tiles):console.warn(`Unable to update <Source> prop: ${changedKey}`)}(source,props,propsRef.current):source=function createSource(map,id,props){if(map.style&&map.style._loaded){const options={...props};return delete options.id,delete options.children,map.addSource(id,options),map.getSource(id)}return null}(map,id,props),propsRef.current=props,source&&react.Children.map(props.children,child=>child&&(0,react.cloneElement)(child,{source:id}))||null}let layerCounter=0;function Layer(props){const map=(0,react.useContext)(map_MapContext).map.getMap(),propsRef=(0,react.useRef)(props),[,setStyleLoaded]=(0,react.useState)(0),id=(0,react.useMemo)(()=>props.id||"jsx-layer-"+layerCounter++,[]);(0,react.useEffect)(()=>{if(map){const forceUpdate=()=>setStyleLoaded(version=>version+1);return map.on("styledata",forceUpdate),forceUpdate(),()=>{map.off("styledata",forceUpdate),map.style&&map.style._loaded&&map.getLayer(id)&&map.removeLayer(id)}}},[map]);if(map&&map.style&&map.getLayer(id))try{!function updateLayer(map,id,props,prevProps){if(assert(props.id===prevProps.id,"layer id changed"),assert(props.type===prevProps.type,"layer type changed"),"custom"===props.type||"custom"===prevProps.type)return;const{layout={},paint={},filter,minzoom,maxzoom,beforeId}=props;if(beforeId!==prevProps.beforeId&&map.moveLayer(id,beforeId),layout!==prevProps.layout){const prevLayout=prevProps.layout||{};for(const key in layout)deepEqual(layout[key],prevLayout[key])||map.setLayoutProperty(id,key,layout[key]);for(const key in prevLayout)layout.hasOwnProperty(key)||map.setLayoutProperty(id,key,void 0)}if(paint!==prevProps.paint){const prevPaint=prevProps.paint||{};for(const key in paint)deepEqual(paint[key],prevPaint[key])||map.setPaintProperty(id,key,paint[key]);for(const key in prevPaint)paint.hasOwnProperty(key)||map.setPaintProperty(id,key,void 0)}deepEqual(filter,prevProps.filter)||map.setFilter(id,filter),minzoom===prevProps.minzoom&&maxzoom===prevProps.maxzoom||map.setLayerZoomRange(id,minzoom,maxzoom)}(map,id,props,propsRef.current)}catch(error){console.warn(error)}else!function createLayer(map,id,props){if(map.style&&map.style._loaded&&(!("source"in props)||map.getSource(props.source))){const options={...props,id};delete options.beforeId,map.addLayer(options,props.beforeId)}}(map,id,props);return propsRef.current=props,null}}}]);